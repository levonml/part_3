{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/data.js","components/Notifications.js","components/Errors.js","App.js","index.js"],"names":["Filter","newFilter","handleFilterChange","value","onChange","PersonForm","addNote","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","Person","person","deleteContact","id","name","number","Persons","persons","map","p","baseUrl","dataServices","getAll","axios","get","then","response","console","log","data","create","newObject","post","catch","err","message","remove","delete","res","update","note","put","Notification","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Error","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","newNotification","setNotification","newError","setError","useEffect","initial_data","filtered","myRe","RegExp","filter","test","event","target","preventDefault","newObj","numberChange","every","currentValue","nameChange","returned_note","concat","setTimeout","window","confirm","existingName","find","updated","updated_note","m","error","i","pName","modified","per","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4b4561a9.chunk.js","sourcesContent":["import React  from 'react'\n\nconst Filter = ({newFilter, handleFilterChange}) => {\n\n    return(\n        <div>\n            filter shown with: <input value = {newFilter} onChange = {handleFilterChange} />\n        </div>\n    )\n}\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({addNote, newName, newNumber, handleNameChange, handleNumberChange}) =>{\n    \n    return(\n      <div>\n        <form onSubmit = {addNote}>\n          <div>     \n            name: <input value = {newName} onChange = {handleNameChange} />\n          </div>\n          <div>\n            number: <input value = {newNumber} onChange = {handleNumberChange} />\n          </div>\n          <div>\n            <button type=\"submit\">add</button>\n          </div>\n        </form>\n      </div>\n    )\n}\nexport default PersonForm","import React from 'react'\nconst Person = ({person, deleteContact}) => {\n    return(<div>\n    <form onSubmit = {deleteContact} id = {person.id}>\n        <li > {person.name} {person.number} <button type = \"submit\" >delete</button></li>\n    </form>\n    </div>)\n\n}\nconst Persons = ({persons, deleteContact}) => {\n    return(<div>\n        <ul>\n            {persons.map(p => <Person key = {p.id} person = {p}  deleteContact = {deleteContact}/>)}\n        </ul>\n        </div>)\n}\n\nexport default Persons","//import React from 'react'\nimport axios from \"axios\";\n\nconst baseUrl = \"/api/persons\";\nconst getAll = () => {\n\tconst request = axios.get(baseUrl);\n\n\treturn request.then((response) => {\n\t\tconsole.log(\"data = \", response.data);\n\t\treturn response.data;\n\t});\n};\n\nconst create = (newObject) => {\n\tconst res = axios.post(baseUrl, newObject);\n\treturn res\n\t\t.then((response) => {\n\t\t\t//console.log(\"post ---\", response.data);\n\t\t\t// console.log('respons = ', response);\n\t\t\treturn response.data;\n\t\t})\n\t\t.catch((err) => {\n\t\t\tconsole.log(\"error in axios = \", err);\n\t\t\treturn err.message;\n\t\t});\n};\nconst remove = (id) => {\n\tconst request = axios.delete(`${baseUrl}/${id}`);\n\t// return request\n\treturn request.then((response) => {\n\t\tconst res = response.data;\n\t\tconsole.log(\"detele.response - \", res);\n\t\tconsole.log(\"delete.response.data - \", res.data);\n\t\treturn res;\n\t});\n\t//const res = persons.filter(i => i.id !== id)\n\t//return res\n};\nconst update = (id, note) => {\n\tconst request = axios.put(`${baseUrl}/${id}`, note);\n\treturn request.then((response) => response.data);\n};\n\nconst dataServices = { getAll, create, remove, update };\nexport default dataServices;\n","import React  from 'react'\n\nconst Notification = ({ message }) => {\n    const notificationStyle = {\n        color: 'green',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div style = {notificationStyle}>\n        {message}\n      </div>\n    )\n  }\nexport default Notification","import React  from 'react'\n\nconst Error = ({ message }) => {\n    const errorStyle = {\n        color: 'red',\n        background: 'lightgray',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div style = {errorStyle}>\n        {message}\n      </div>\n    )\n  }\nexport default Error","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport dataServices from \"./services/data\";\nimport Notification from \"./components/Notifications\";\nimport Error from \"./components/Errors\";\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([]);\n\tconsole.log(\"persons =\", persons);\n\tconst [newName, setNewName] = useState(\"\");\n\tconst [newNumber, setNewNumber] = useState(\"\");\n\tconst [newFilter, setNewFilter] = useState(\"\");\n\tconst [newNotification, setNotification] = useState(null);\n\tconst [newError, setError] = useState(null);\n\tuseEffect(() => {\n\t\tconsole.log(\"dataServices =\", dataServices.getAll());\n\t\tdataServices.getAll().then((initial_data) => {\n\t\t\tsetPersons(initial_data);\n\t\t});\n\t}, []);\n\tconst addNote = (event) => {\n\t\tevent.preventDefault();\n\t\tconst newObj = {\n\t\t\tname: newName,\n\t\t\tnumber: newNumber,\n\t\t};\n\n\t\tconst numberChange = persons.every(\n\t\t\t(currentValue) => currentValue.number !== newNumber\n\t\t);\n\t\tconst nameChange = persons.every(\n\t\t\t(currentValue) => currentValue.name !== newName\n\t\t);\n\t\tconsole.log(\"numberchange -\", numberChange);\n\t\tif (nameChange) {\n\t\t\tdataServices.create(newObj).then((returned_note) => {\n\t\t\t\tsetPersons(persons.concat(returned_note));\n\t\t\t\tsetNotification(`Added ${newName}`);\n\t\t\t\tsetTimeout(() => setNotification(null), 3000);\n\t\t\t});\n\t\t} else if (numberChange && !nameChange) {\n\t\t\tif (\n\t\t\t\twindow.confirm(\n\t\t\t\t\t` ${newName} is already added to phonebook, replace the old number with the new one?`\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tconst existingName = persons.find((p) => p.name === newName);\n\t\t\t\tconst updated = { ...existingName, number: newObj.number };\n\t\t\t\tdataServices\n\t\t\t\t\t.update(existingName.id, updated)\n\t\t\t\t\t.then((updated_note) => {\n\t\t\t\t\t\tsetPersons(\n\t\t\t\t\t\t\tpersons.map((m) => (m.id === existingName.id ? updated_note : m))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tsetNotification(` ${newName}'s number has changed`);\n\t\t\t\t\t\tsetTimeout(() => setNotification(null), 3000);\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tsetError(`${newName} has been deleted from the server`);\n\t\t\t\t\t\tsetTimeout(() => setError(null), 3000);\n\t\t\t\t\t\tsetPersons(persons.filter((p) => p.id !== existingName.id));\n\t\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tsetNotification(` ${newName} is already added to phonebook`);\n\t\t\tsetTimeout(() => setNotification(null), 3000);\n\t\t}\n\t\tsetNewName(\"\");\n\t\tsetNewNumber(\"\");\n\t};\n\tlet filtered;\n\tlet myRe = RegExp(newFilter, \"i\");\n\tif (newFilter) filtered = persons.filter((value) => myRe.test(value.name));\n\telse filtered = persons;\n\tconst handleNameChange = (event) => {\n\t\tsetNewName(event.target.value);\n\t};\n\tconst handleNumberChange = (event) => {\n\t\tsetNewNumber(event.target.value);\n\t};\n\tconst handleFilterChange = (event) => {\n\t\tsetNewFilter(event.target.value);\n\t};\n\tconst deleteContact = (event) => {\n\t\tevent.preventDefault();\n\t\tconst i = event.target.id;\n\t\tconst pName = persons.find((p) => p.id === i).name;\n\t\tif (window.confirm(`delete ${pName}?`)) {\n\t\t\tdataServices.remove(i).catch((error) => {\n\t\t\t\tsetError(`${pName} has been deleted from the server`);\n\t\t\t\tsetTimeout(() => setError(null), 3000);\n\t\t\t});\n\t\t\tconst modified = persons.filter((per) => per.id !== i);\n\t\t\tsetPersons(modified);\n\t\t\tsetNotification(`${pName} is deleted succesfully`);\n\t\t\tsetTimeout(() => setNotification(null), 3000);\n\t\t}\n\t};\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Error message={newError} />\n\t\t\t<Notification message={newNotification} />\n\t\t\t<Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\n\t\t\t<h3>add a new</h3>\n\t\t\t<PersonForm\n\t\t\t\taddNote={addNote}\n\t\t\t\tnewName={newName}\n\t\t\t\tnewNumber={newNumber}\n\t\t\t\thandleNameChange={handleNameChange}\n\t\t\t\thandleNumberChange={handleNumberChange}\n\t\t\t/>\n\t\t\t<h2>Numbers</h2>\n\t\t\t<Persons persons={filtered} deleteContact={deleteContact} />\n\t\t</div>\n\t);\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}