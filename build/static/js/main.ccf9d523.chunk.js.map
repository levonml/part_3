{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/data.js","components/Notifications.js","components/Errors.js","App.js","index.js"],"names":["Filter","newFilter","handleFilterChange","value","onChange","PersonForm","addNote","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","Person","person","deleteContact","id","name","number","Persons","persons","map","p","baseUrl","dataServices","getAll","a","request","axios","get","response","data","message","create","newObject","res","post","remove","delete","then","catch","err","update","note","put","Notification","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Error","App","useState","setPersons","console","log","setNewName","setNewNumber","setNewFilter","newNotification","setNotification","newError","setError","useEffect","initial_data","filtered","myRe","RegExp","filter","test","event","target","preventDefault","newObj","numberChange","every","currentValue","nameChange","returned_note","concat","setTimeout","window","confirm","existingName","find","updated","updated_note","m","error","i","pName","modified","per","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ccf9d523.chunk.js","sourcesContent":["import React  from 'react'\n\nconst Filter = ({newFilter, handleFilterChange}) => {\n\n    return(\n        <div>\n            filter shown with: <input value = {newFilter} onChange = {handleFilterChange} />\n        </div>\n    )\n}\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({addNote, newName, newNumber, handleNameChange, handleNumberChange}) =>{\n    \n    return(\n      <div>\n        <form onSubmit = {addNote}>\n          <div>     \n            name: <input value = {newName} onChange = {handleNameChange} />\n          </div>\n          <div>\n            number: <input value = {newNumber} onChange = {handleNumberChange} />\n          </div>\n          <div>\n            <button type=\"submit\">add</button>\n          </div>\n        </form>\n      </div>\n    )\n}\nexport default PersonForm","import React from 'react'\nconst Person = ({person, deleteContact}) => {\n    return(<div>\n    <form onSubmit = {deleteContact} id = {person.id}>\n        <li > {person.name} {person.number} <button type = \"submit\" >delete</button></li>\n    </form>\n    </div>)\n\n}\nconst Persons = ({persons, deleteContact}) => {\n    return(<div>\n        <ul>\n            {persons.map(p => <Person key = {p.id} person = {p}  deleteContact = {deleteContact}/>)}\n        </ul>\n        </div>)\n}\n\nexport default Persons","//import React from 'react'\nimport axios from \"axios\";\n\nconst baseUrl = \"/api/persons\";\nconst getAll = async () => {\n\tconst request = axios.get(baseUrl);\n\ttry {\n\t\tconst response = await request;\n\t\treturn response.data;\n\t} catch (err) {\n\t\treturn err.message;\n\t}\n};\nconst create = async (newObject) => {\n\tconst res = axios.post(baseUrl, newObject);\n\t//try {\n\tconst response = await res;\n\treturn response.data;\n\t//} /* catch (err) {\n\t//console.log(\"errrrrr\", err);\n\t//return err.message;\n\t//} */\n};\nconst remove = (id) => {\n\tconst request = axios.delete(`${baseUrl}/${id}`);\n\t// return request\n\treturn request.then((response) => response.data).catch((err) => err.message);\n};\nconst update = (id, note) => {\n\tconst request = axios.put(`${baseUrl}/${id}`, note);\n\treturn request.then((response) => response.data).catch((err) => err.message);\n};\n\nconst dataServices = { getAll, create, remove, update };\nexport default dataServices;\n","import React  from 'react'\n\nconst Notification = ({ message }) => {\n    const notificationStyle = {\n        color: 'green',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div style = {notificationStyle}>\n        {message}\n      </div>\n    )\n  }\nexport default Notification","import React  from 'react'\n\nconst Error = ({ message }) => {\n    const errorStyle = {\n        color: 'red',\n        background: 'lightgray',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div style = {errorStyle}>\n        {message}\n      </div>\n    )\n  }\nexport default Error","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport dataServices from \"./services/data\";\nimport Notification from \"./components/Notifications\";\nimport Error from \"./components/Errors\";\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([]);\n\tconsole.log(\"persons =\", persons);\n\tconst [newName, setNewName] = useState(\"\");\n\tconst [newNumber, setNewNumber] = useState(\"\");\n\tconst [newFilter, setNewFilter] = useState(\"\");\n\tconst [newNotification, setNotification] = useState(null);\n\tconst [newError, setError] = useState(null);\n\tuseEffect(() => {\n\t\tconsole.log(\"dataServices =\", dataServices.getAll());\n\t\tdataServices.getAll().then((initial_data) => {\n\t\t\tsetPersons(initial_data);\n\t\t});\n\t}, []);\n\tconst addNote = (event) => {\n\t\tevent.preventDefault();\n\t\tconst newObj = {\n\t\t\tname: newName,\n\t\t\tnumber: newNumber,\n\t\t};\n\n\t\tconst numberChange = persons.every(\n\t\t\t(currentValue) => currentValue.number !== newNumber\n\t\t);\n\t\tconst nameChange = persons.every(\n\t\t\t(currentValue) => currentValue.name !== newName\n\t\t);\n\t\tif (nameChange) {\n\t\t\tdataServices.create(newObj).then((returned_note) => {\n\t\t\t\tsetPersons(persons.concat(returned_note));\n\t\t\t\tsetNotification(`Added ${newName}`);\n\t\t\t\tsetTimeout(() => setNotification(null), 3000);\n\t\t\t});\n\t\t} else if (numberChange && !nameChange) {\n\t\t\tif (\n\t\t\t\twindow.confirm(\n\t\t\t\t\t` ${newName} is already added to phonebook, replace the old number with the new one?`\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tconst existingName = persons.find((p) => p.name === newName);\n\t\t\t\tconst updated = { ...existingName, number: newObj.number };\n\t\t\t\tdataServices\n\t\t\t\t\t.update(existingName.id, updated)\n\t\t\t\t\t.then((updated_note) => {\n\t\t\t\t\t\tsetPersons(\n\t\t\t\t\t\t\tpersons.map((m) => (m.id === existingName.id ? updated_note : m))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tsetNotification(` ${newName}'s number has changed`);\n\t\t\t\t\t\tsetTimeout(() => setNotification(null), 3000);\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tsetError(`${newName} has been deleted from the server`);\n\t\t\t\t\t\tsetTimeout(() => setError(null), 3000);\n\t\t\t\t\t\tsetPersons(persons.filter((p) => p.id !== existingName.id));\n\t\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tsetNotification(` ${newName} is already added to phonebook`);\n\t\t\tsetTimeout(() => setNotification(null), 3000);\n\t\t}\n\t\tsetNewName(\"\");\n\t\tsetNewNumber(\"\");\n\t};\n\tlet filtered;\n\tlet myRe = RegExp(newFilter, \"i\");\n\tif (newFilter) filtered = persons.filter((value) => myRe.test(value.name));\n\telse filtered = persons;\n\tconst handleNameChange = (event) => {\n\t\tsetNewName(event.target.value);\n\t};\n\tconst handleNumberChange = (event) => {\n\t\tsetNewNumber(event.target.value);\n\t};\n\tconst handleFilterChange = (event) => {\n\t\tsetNewFilter(event.target.value);\n\t};\n\tconst deleteContact = (event) => {\n\t\tevent.preventDefault();\n\t\tconst i = event.target.id;\n\t\tconst pName = persons.find((p) => p.id === i).name;\n\t\tif (window.confirm(`delete ${pName}?`)) {\n\t\t\tdataServices.remove(i).catch((error) => {\n\t\t\t\tsetError(`${pName} has been deleted from the server`);\n\t\t\t\tsetTimeout(() => setError(null), 3000);\n\t\t\t});\n\t\t\tconst modified = persons.filter((per) => per.id !== i);\n\t\t\tsetPersons(modified);\n\t\t\tsetNotification(`${pName} is deleted succesfully`);\n\t\t\tsetTimeout(() => setNotification(null), 3000);\n\t\t}\n\t};\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Error message={newError} />\n\t\t\t<Notification message={newNotification} />\n\t\t\t<Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\n\t\t\t<h3>add a new</h3>\n\t\t\t<PersonForm\n\t\t\t\taddNote={addNote}\n\t\t\t\tnewName={newName}\n\t\t\t\tnewNumber={newNumber}\n\t\t\t\thandleNameChange={handleNameChange}\n\t\t\t\thandleNumberChange={handleNumberChange}\n\t\t\t/>\n\t\t\t<h2>Numbers</h2>\n\t\t\t<Persons persons={filtered} deleteContact={deleteContact} />\n\t\t</div>\n\t);\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}